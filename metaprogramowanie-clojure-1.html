<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="utf-8" />
    <link rel="shortcut icon" href="media/bug-inv.ico" type="image/x-icon" />
    <link rel="alternate" type="application/atom+xml" title="Long-standing Bug" href="atom.xml" />
    <!-- <link rel="stylesheet" href="media/fonts.css" /> -->
    <link rel="stylesheet" href="media/makeblog.css" />
    <link rel="stylesheet" href="media/common.css" />
    <link rel="stylesheet" href="media/article.css" />
    <title>Metaprogramowanie w Clojure, cz. 1</title>
    <!-- work around IE not handling properly unknown tags -->
    <!-- suggested here: http://diveintohtml5.org/semantics.html -->
    <script>
      document.createElement("article");
      document.createElement("nav");
      document.createElement("aside");
      document.createElement("footer");
      document.createElement("date");
    </script>
    <script src="media/hyphenator.js" type="text/javascript"></script>
  </head>
  <body>
    <div id="main_wrapper">
      <div id="header">
	<div id="sw">
	  <a href="index.html">
	    <img src="media/s-w-small.png" alt="S/W" />
	  </a>
	</div>
	<nav id="menu">
	  <a href="archive.html">Archiwa</a>,
	  <a href="info.html">Info</a>
	</nav>
      </div>
      <div id="latest">
	<time id="latest_text">niedziela, 14 listopad 2010</time>
	<article class="hyphenate">
	  <h1>Metaprogramowanie w Clojure, cz. 1</h1>
	  <p><a href="http://pl.wikipedia.org/wiki/Metaprogramowanie"><strong>Metaprogramowanie</strong></a>
to technika
</p><p>Co to jest, link do prostej instalki, Clojure In The Box czy coś
</p><ul>
<li>instalacja w Emacsie, NB, Eclipse, Windows (Clojure In the box)</li>
<ul>
<li>jest sens to podawać?</li>
</ul></ul><h2>Plan podróży</h2><p>Ten wpis może się okazać drastycznym doświadczeniem. Przelecimy szybko
od podstaw języka do bardzo fajnych (ktoś mógłby powiedzieć <em>trudnych</em>
ale to nie prawda) rzeczy, nie zatrzymując się specjalnie długo po
drodze. Zakładam zero znajomości Clojure i Lispa oraz jakąś znajomość
Javy.
</p><h2>LISt Processing (1)</h2><p>Wiemy już skąd się wzięła nazwa. (Na nieszczęście języka po angielsku
znaczy to również seplenienie.) Lisp służy do młócenia list na różne
sposoby. I tyle. Z prostoty języka wynika jego siła.
Najprzyjemniejszym (kluczowym?) faktem jest to, że sam kod programu w
Lispie jest listą. Listą list. Listą list złożonych z list. Itd. Jeśli
światły umysł, usiadłby spokojnie na łonie przyrody, sam, z dala od
ludzi i w głowie przywołałby tylko te dwa fakty, a mianowicie:
</p><ol>
<li>Lisp jest językiem do przetwarzania list,</li>
<li>kod programu w Lispie jest listą,</li>
</ol><p>to są szanse, że doszedłby do wniosku, iż <em>Można by przecież</em>
<em>przetwarzać kod programu w samym programie!</em>. Na szczęście tak
musiało się już kiedyś stać. Od jakiegoś czasu (końca lat 50-tych)
Lisp pozwala na <em>metaprogramowanie</em>.
</p><h2>Metaprogramowanie</h2><ul>
<li>makra w C</li>
<li>szablony w C++ (Stroustrup: preprocesor to zło)</li>
<li>powód: dodawanie własnych konstrukcji do języka</li>
<li>błaganie Suna o foreach-a</li>
</ul><h2>Przebieg kompilacji w Clojure</h2><h2>Wzroce i schematy w Javie</h2><p>get*, (bean obj)
</p><h2>LISt Processing (2) &mdash; konkretnie</h2><p>Składnia, głowa i ogon, first, rest
</p><h2>Problem: Tworzenie obiektu i nadawanie mu właściwości (ładniejszy wyraz dla <em>properties</em>)</h2><h3>Java w Clojure</h3><h3>doto: Makro "znęcacz"</h3><h3>Pan Kotek jest leniwy i nie lubi się powtarzać</h3><h2>Upraszczamy sobie życie </h2><ul>
<li>piszemy makro</li>
</ul><h3>Piszemy makro doprops</h3><h2>W drodze do deklaratywnego UI</h2>
	</article>
      </div>
      <footer>
	&copy; 2010 Szymon Witamborski
      </footer>
    </div>
  </body>
</html>
