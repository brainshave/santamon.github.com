<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="utf-8" />
    <title>One Makefile To Rule Them All - Long-standing Bug</title>
    <link rel="alternate" type="application/atom+xml" title="Long-standing Bug" href="atom.xml" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="http://fonts.googleapis.com/css?family=Playfair+Display:400,400italic|Neuton:400,700,400italic|Abril+Fatface|Anonymous+Pro:400,700&subset=latin,latin-ext"
	        rel="stylesheet" type="text/css" media="(min-width: 640px)" />
    <link href="media/main.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <header id="main_navigation">
      <nav id="jumpers">
        Jump to: <a href="#">Top</a>, <a href="#comments">Comments</a>
      </nav>
      <nav id="home">
	      <img src="media/bug.png" style="vertical-align: top;" /> Long-standing Bug:
	      <a href="index.html" id="articles_link">All Articles</a>, <a href="info.html">About</a>, <a href="atom.xml">RSS</a>
      </nav>
    </header>
    <article>
      <nav class="metainfo">
        <time>2009-06-07</time>
        
        <a href="C++.index.html">C++</a>
        
        <a href="make.index.html">make</a>
        
      </nav>
      
      <h1>One Makefile To Rule Them All</h1>

      
      <section class="introduction">
	      <blockquote><p> One Makefile to rule them all, One Makefile to find them,<br />
 One Makefile to bring them all and in the batch compile them<br />
 In the Land of Unix where the Shells lie.</p></blockquote>
      </section>
      

      <section id="rest">
        <p class="sidenote">Wpis archiwalny z <a href="http://gaco.wordpress.com">mojej starej strony</a>.</p>

 <p>Kiedyś szukałem sposobu, by dodając nowe pliki *.cpp do projektu
(każdy z nich był osobnym programem) nie trzeba było modyfikować
Makefile&apos;a i dałem sobie spokój w pewnym momencie.  Szukałem niezbyt
gorliwie jak się okazuje, bo podpowiedź była
<a href="http://www.gnu.org/software/make/manual/html_node/Wildcard-Function.html">w manualu do GNU Make&apos;a</a>.
Ten Makefile skompiluje wszystkie pliki *.cpp jako osobne programy do
podkatalogu bin.</p>  <pre><code>cele := $(patsubst %.cpp,bin/%,$(wildcard *.cpp))

komp=g++ -Wall -O2

asdf: $(cele)

$(cele) : bin/% : %.cpp
  $(komp) $&lt; -o $@

clean:
  rm $(cele)</code></pre> <p>Żeby pakowało binarki bezpośrednio do katalogu ze źródłami trzeba usunąć 2x <code>bin/</code>.</p>
      </section>
      
    </article>
    
    
    <section id="comments">
      <div id="disqus_thread"></div>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
    
    
    <footer id="main_footer">
      <nav id="return_to_top"><a href="#">↑ Top</a></nav>
      <div id="copywrong">
	      &copy; Copywrong 2011 Szymon Witamborski
      </div>
    </footer>
    <script src="media/hyphenator.js"></script>
    
    <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'longstandingbug'; // required: replace example with your forum shortname

      // The following are highly recommended additional parameters. Remove the slashes in front to use.
      
      var disqus_identifier = 'one-makefile-to-rule-them-all.html';
      var disqus_url = 'http://longstandingbug.com/one-makefile-to-rule-them-all.html';

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    
    <!-- google analytics -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-23922729-1']);
      _gaq.push(['_trackPageview']);
      
      (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>

