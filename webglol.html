<!DOCTYPE html>
<html lang="en-gb">
  <head>
    <meta charset="utf-8" />
    <link rel="alternate" type="application/atom+xml" title="Long-standing Bug" href="atom.xml" />
    <link rel="stylesheet" href="media/main.css" />

    <title>WebGLOL</title>
    <!-- work around IE (8?) not handling properly unknown tags -->
    <!-- suggested here: http://diveintohtml5.org/semantics.html -->
    <script>
      document.createElement("article");
      document.createElement("nav");
      document.createElement("aside");
      document.createElement("footer");
      document.createElement("time");
    </script>
  </head>
  <body>
    <div id="main_container">
      <div id="left_container">
        <header>
          <a href="index.html" id="logo"><img src="media/header.svg" /></a>
        </header>
        <article id="content">
  <time>2011-05-22</time>
  <h1>WebGLOL</h1>
  

<p>I deviated form my Clojure stuff for a while and made something
completely different.</p>

<p>I&rsquo;m learning OpenGL recently. I&rsquo;ve made this silly animation once in
Java and wanted to see what it takes to port it to CoffeeScript and
WebGL.</p>

<h2>Don&rsquo;t Even Wonder If That Means Anything ;&mdash;)</h2>

<p><canvas id="robot_canvas" width=540 height=270 style="border: 1px solid black;"></canvas></p>

<script src="media/glMatrix-0.9.5.min.js"></script>


<script src="media/RequestAnimationFrame.js"></script>


<script id="shader-fs" type="x-shader/x-fragment">
    #ifdef GL_ES
    precision highp float;
    #endif

    uniform vec4 vColor;

    void main(void) {
        gl_FragColor = vColor;
    }
</script>


<script id="shader-vs" type="x-shader/x-vertex">
    attribute vec3 aVertexPosition;

    uniform mat4 uMVMatrix;
    uniform mat4 uPMatrix;

    void main(void) {
        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
    }
</script>


<script src="media/robots.coffee" type="text/coffeescript"></script>


<script src="media/coffee-script.js"></script>


<p>If you see a rectangle only it means you have to
<a href="http://get.webgl.org">get WebGL-enabled browser</a>. It probably won&rsquo;t
show up in feed readers because they usually block scripts. If you
don&rsquo;t have time to grab a browser, here you have a video of Java
version (recording is crappy, I&rsquo;m new to this also):</p>

<object width="425" height="344"><param name="movie" value="http://www.youtube.com/v/Epncu2iq0EU?hl=pl&fs=1"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/Epncu2iq0EU?hl=pl&fs=1" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="425" height="344"></embed></object>


<p>You can see the source code just by viewing source of this page or
<a href="https://github.com/santamon/OpenGLOL/tree/master/webgl">on GitHub</a>
(files
<a href="https://github.com/santamon/OpenGLOL/blob/master/webgl/robots.html">robots.html</a>
and
<a href="https://github.com/santamon/OpenGLOL/blob/master/webgl/robots.coffee">robots.coffee</a>).</p>

<h2>Thoughts</h2>

<p>I have to say that WebGL is hard. There&rsquo;s a lot you have to know
before you draw anything. It&rsquo;s bearable thanks to such great resources
as <a href="http://learningwebgl.com/blog/?page_id=1217">Learning WebGL</a>. I&rsquo;ve
done that animation only after 3 lessons so pace of this tutorial is
really good. One more great thing about it is that examples are using
very minimal set of external libraries so it&rsquo;s kind of close to the
metal. That animation was made with only addition of CoffeeScript. If
you don&rsquo;t want to write everything by hand there&rsquo;s
<a href="https://github.com/mrdoob/three.js/">Three.js</a> library.</p>

<p>I also gave CoffeeScript a try and it was worth it. I like that very
succinct syntax &mdash; my favorite is anonymous function: it&rsquo;s just <code>-&gt;</code>
(compared to JavaScript&rsquo;s <code>function(){}</code>). Some functional programming
stuff like
<a href="http://jashkenas.github.com/coffee-script/#loops">list comprehensions</a>
and
<a href="http://jashkenas.github.com/coffee-script/#destructuring">destructuring lists</a>
are very welcome too. I don&rsquo;t know much of JavaScript so I can&rsquo;t tell
how much writing in CoffeeScript was easier but at least it was more
enjoyable :) .</p>

<p><a href="http://jashkenas.github.com/coffee-script/">CoffeeScript site</a> make
learning it easy. There&rsquo;s even a real-time translator to JavaScript so
you can play with language in the browser. What&rsquo;s mentioned
<a href="http://jashkenas.github.com/coffee-script/#scripts">almost at the very bottom of document</a>
is that you don&rsquo;t have to compile <code>*.coffee</code> to <code>*.js</code> files
offline. They can be compiled in the browser. Just include
<a href="http://jashkenas.github.com/coffee-script/extras/coffee-script.js"><code>coffee-script.js</code></a>
and tag you scripts with <code>type="text/coffeescript"</code>.</p>



<div>
<div id="disqus_thread"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'longstandingbug'; // required: replace example with your forum shortname

  // The following are highly recommended additional parameters. Remove the slashes in front to use.
  
  
  
  var disqus_identifier = 'webglol.html';
  var disqus_url = 'http://longstandingbug.com/webglol.html';

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
</div>


</article>

      </div>
      <div id="right_container">
        <nav id="meta_menu">
          <a href="index.html">Home</a><br />
          <a href="atom.xml">Atom</a><br />
          <a href="info.html">Author</a><br />
          <a href="http://twitter.com/szywon">Twitter</a><br />
          <a href="http://github.com/santamon">GitHub</a>
        </nav>
        <nav id="projects_menu">
          <p>Projects:</p>
          <a href="http://github.com/santamon/GUIFTW">GUI FTW!</a><br />
          <a href="http://github.com/santamon/sroo">Sroo</a>
        </nav>
        <nav id="catogries_menu">
          <p>Categories:</p>
          <a href="clojure-category.html">Clojure</a><br />
          <a href="gui-ftw-category.html">GUI</a><br />
          <a href="javascript-category.html">JavaScript</a>
        </nav>
        <nav id="links_menu">
          <p>Links:</p>
          <a href="http://radek.pycka.com">Radek Pycka</a><br />
          <a href="http://blog.charmas.pl">Michał Charmas</a><br />
          <a href="http://konradhalas.blogspot.com/">Konrad Hałas</a><br />
          <a href="http://infoq.com">InfoQ</a>
        </nav>
        <nav id="archive_menu">
          <p>Archive:</p>
          
          




<label for="September_2011">September 2011</label>
<input id="September_2011" type="checkbox" />
<ul>



<li><time datetime="2011-09-23">
    23
</time> <a href="/sroo.html">Another HTML/JavaScript Slideshow Library</a></li>






<li><time datetime="2011-09-11">
    11
</time> <a href="/whys-behind-new-design.html">The Whys Behind This New Freaky Design</a></li>




</ul>
<label for="June_2011">June 2011</label>
<input id="June_2011" type="checkbox" />
<ul>



<li><time datetime="2011-06-20">
    20
</time> <a href="/sound-synthesis.html">Sound Synthesis & Playback in Clojure</a></li>




</ul>
<label for="May_2011">May 2011</label>
<input id="May_2011" type="checkbox" />
<ul>



<li><time datetime="2011-05-22">
    22
</time> <a href="/webglol.html">WebGLOL</a></li>






<li><time datetime="2011-05-16">
    16
</time> <a href="/reintroducing-guiftw.html">Reintroducing GUI FTW! and Progress Report</a></li>






<li><time datetime="2011-05-07">
    7
    
</time> <a href="/restarting-in-english-mode.html">Restarting in English Mode</a></li>




</ul>
<label for="April_2011">April 2011</label>
<input id="April_2011" type="checkbox" />
<ul>



<li><time datetime="2011-04-04">
    4
    
</time> <a href="/zdarzenia-guiftw.html">Zdarzenia w GUI FTW!</a></li>




</ul>
<label for="March_2011">March 2011</label>
<input id="March_2011" type="checkbox" />
<ul>



<li><time datetime="2011-03-20">
    20
</time> <a href="/niech-sie-stanie-gui-ftw.html">Niech się stanie GUI FTW!</a></li>




</ul>
<label for="October_2010">October 2010</label>
<input id="October_2010" type="checkbox" />
<ul>



<li><time datetime="2010-10-16">
    16
</time> <a href="/idea-iluzja.html">Idea i Iluzja łeb w web</a></li>




</ul>
<label for="September_2010">September 2010</label>
<input id="September_2010" type="checkbox" />
<ul>



<li><time datetime="2010-09-03">
    3
    
</time> <a href="/blad-mlodego-parsownika.html">Błąd młodego parsownika</a></li>




</ul>
<label for="August_2010">August 2010</label>
<input id="August_2010" type="checkbox" />
<ul>



<li><time datetime="2010-08-16">
    16
</time> <a href="/intro.html">Intro</a></li>




</ul>
<label for="January_2010">January 2010</label>
<input id="January_2010" type="checkbox" />
<ul>



<li><time datetime="2010-01-07">
    7
    
</time> <a href="/efekty-uboczne-programowania.html">Efekty uboczne programowania</a></li>




</ul>
<label for="June_2009">June 2009</label>
<input id="June_2009" type="checkbox" />
<ul>



<li><time datetime="2009-06-07">
    7
    
</time> <a href="/one-makefile-to-rule-them-all.html">One Makefile To Rule Them All</a></li>


</ul>


        </nav>
      </div>
    </div>
    <footer><div>Copywrong 2011 Szymon Witamborski</div></footer>
    <script src="media/hyphenator.js"></script>
    <!-- google analytics -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-23922729-1']);
      _gaq.push(['_trackPageview']);

      (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
